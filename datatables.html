<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Monotone DataTables</title>

  <!-- Bootstrap 5 -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <link
    href="https://cdn.datatables.net/1.13.7/css/dataTables.bootstrap5.min.css"
    rel="stylesheet"
  />

  <style>
    :root {
      --bg: #f5f5f5;
      --surface: #ffffff;
      --border: #d4d4d4;
      --text-dark: #1f1f1f;
      --text-light: #555555;
      --accent: #333333;
      --accent-hover: #000000;
      --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
      --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.08);
      --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
    }

    body {
      background: var(--bg);
      font-family: "Segoe UI", Roboto, sans-serif;
      padding: 2rem 1rem;
      color: var(--text-dark);
    }

    .container-custom {
      background: var(--surface);
      border-radius: 0.75rem;
      box-shadow: var(--shadow-lg);
      padding: 2rem;
      max-width: 1400px;
      margin: auto;
      border: 1px solid var(--border);
    }

    .page-title {
      text-align: center;
      font-weight: 700;
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }

    .page-subtitle {
      text-align: center;
      color: var(--text-light);
      margin-bottom: 2rem;
      font-size: 0.95rem;
    }

    .nav-tabs {
      border: none;
      display: flex;
      justify-content: center;
      margin-bottom: 1.5rem;
      gap: 0.25rem;
    }

    .nav-link {
      border: none !important;
      color: var(--text-light);
      border-radius: 0.5rem 0.5rem 0 0;
      background: #e9e9e9;
      padding: 0.75rem 1.5rem;
      font-weight: 500;
      transition: all 0.2s ease;
    }

    .nav-link.active {
      background: var(--surface);
      color: var(--text-dark);
      box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.1);
    }

    .table-controls {
      background: #f0f0f0;
      border-radius: 0.5rem;
      border: 1px solid var(--border);
      padding: 1.5rem;
      margin-bottom: 1.5rem;
    }

    h5 {
      font-size: 0.875rem;
      font-weight: 600;
      margin-bottom: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--text-dark);
    }

    .btn-toggle {
      background: var(--surface);
      border: 1px solid var(--border);
      color: var(--text-dark);
      border-radius: 0.5rem;
      padding: 0.5rem 1rem;
      margin: 0.25rem;
      font-size: 0.875rem;
      transition: all 0.2s ease;
      box-shadow: var(--shadow-sm);
    }

    .btn-toggle:hover {
      background: var(--accent);
      color: white;
      transform: translateY(-1px);
      box-shadow: var(--shadow-md);
    }

    .btn-toggle.opacity-50 {
      opacity: 0.5;
      background: #eaeaea;
    }

    .btn-delete {
      background: #444;
      color: white;
      border: none;
      border-radius: 0.5rem;
      padding: 0.6rem 1.75rem;
      font-weight: 600;
      font-size: 0.875rem;
      transition: all 0.2s ease;
      box-shadow: var(--shadow-sm);
    }

    .btn-delete:hover {
      background: var(--accent-hover);
      transform: translateY(-1px);
      box-shadow: var(--shadow-md);
    }

    table.dataTable thead th {
      background: #333;
      color: #fff;
      font-weight: 600;
      text-transform: uppercase;
      font-size: 0.85rem;
    }

    table.dataTable tbody td {
      color: var(--text-dark);
      font-size: 0.875rem;
      padding: 0.75rem;
      border-color: var(--border);
    }

    table.dataTable tbody tr:hover {
      background-color: #f2f2f2;
    }

    table.dataTable tbody tr.selected {
      background-color: #dcdcdc !important;
    }

    select.form-select-sm {
      border-radius: 0.5rem;
      border: 1px solid var(--border);
      padding: 0.5rem;
    }

    .dataTables_wrapper .dataTables_paginate .paginate_button {
      border: 1px solid var(--border);
      border-radius: 0.5rem;
      background: var(--surface);
      margin: 0 2px;
      color: var(--text-dark) !important;
      font-size: 0.875rem;
      transition: 0.2s;
    }

    .dataTables_wrapper .dataTables_paginate .paginate_button:hover {
      background: var(--accent);
      color: #fff !important;
    }

    .dataTables_wrapper .dataTables_paginate .paginate_button.current {
      background: var(--accent);
      color: white !important;
    }

    .bottom-controls {
      border-top: 1px solid var(--border);
      margin-top: 1.5rem;
      padding-top: 1rem;
    }
  </style>
</head>

<body>
  <div class="container-custom">
    <h1 class="page-title">Monotone DataTables</h1>
    <p class="page-subtitle">Minimalist table view in grayscale tones</p>

    <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item">
        <button
          class="nav-link active"
          id="table1-tab"
          data-bs-toggle="tab"
          data-bs-target="#table1"
          type="button"
        >
          Table 1
        </button>
      </li>
      <li class="nav-item">
        <button
          class="nav-link"
          id="table2-tab"
          data-bs-toggle="tab"
          data-bs-target="#table2"
          type="button"
        >
          Table 2
        </button>
      </li>
    </ul>

    <div class="tab-content">
      <div class="tab-pane fade show active" id="table1">
        <div class="table-controls">
          <h5>Column Visibility</h5>
          <div id="columnToggle1"></div>

          <h5 class="mt-3">Column Search</h5>
          <div class="column-search-inputs" id="columnSearch1"></div>
        </div>

        <table
          id="dataTable1"
          class="table table-striped table-hover"
          style="width: 100%"
        >
          <thead>
            <tr>
              <th><input type="checkbox" id="selectAll1" /></th>
              <th>Name</th>
              <th>Department</th>
              <th>Location</th>
              <th>Nationality</th>
              <th>Age</th>
              <th>Joined</th>
              <th>Salary</th>
            </tr>
          </thead>
        </table>

        <div class="bottom-controls">
          <button id="deleteBtn1" class="btn btn-delete">
            Delete Selected
          </button>
          <span id="selectedCount1" class="ms-2 text-secondary"></span>
        </div>
      </div>

      <div class="tab-pane fade" id="table2">
        <div class="table-controls">
          <h5>Column Visibility</h5>
          <div id="columnToggle2"></div>

          <h5 class="mt-3">Column Search</h5>
          <div class="column-search-inputs" id="columnSearch2"></div>
        </div>

        <table
          id="dataTable2"
          class="table table-striped table-hover"
          style="width: 100%"
        >
          <thead>
            <tr>
              <th><input type="checkbox" id="selectAll2" /></th>
              <th>Name</th>
              <th>Department</th>
              <th>Location</th>
              <th>Nationality</th>
              <th>Age</th>
              <th>Joined</th>
              <th>Salary</th>
            </tr>
          </thead>
        </table>

        <div class="bottom-controls">
          <button id="deleteBtn2" class="btn btn-delete">
            Delete Selected
          </button>
          <span id="selectedCount2" class="ms-2 text-secondary"></span>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.7/js/dataTables.bootstrap5.min.js"></script>

  <script>
    const sampleData = [
      { name: "Ava Ramirez", department: "Finance", location: "Chicago", nationality: "American", age: 42, joined: "2015/07/18", salary: "$98,400" },
      { name: "Noah Johnson", department: "Design", location: "New York", nationality: "American", age: 28, joined: "2019/03/21", salary: "$76,500" },
      { name: "Liam Chen", department: "Engineering", location: "Singapore", nationality: "Singaporean", age: 34, joined: "2016/09/15", salary: "$112,000" },
      { name: "Mia Garcia", department: "Marketing", location: "Madrid", nationality: "Spanish", age: 29, joined: "2018/02/10", salary: "$84,200" },
      { name: "Ethan Smith", department: "IT Support", location: "Toronto", nationality: "Canadian", age: 37, joined: "2012/06/05", salary: "$91,000" },
      { name: "Olivia Brown", department: "Operations", location: "London", nationality: "British", age: 41, joined: "2011/10/25", salary: "$123,000" },
      { name: "Lucas MÃ¼ller", department: "Sales", location: "Berlin", nationality: "German", age: 31, joined: "2017/05/13", salary: "$74,500" },
      { name: "Sophia Lee", department: "Human Resources", location: "Seoul", nationality: "Korean", age: 33, joined: "2014/11/30", salary: "$88,700" },
      { name: "William Jones", department: "Legal", location: "Sydney", nationality: "Australian", age: 46, joined: "2010/04/18", salary: "$135,000" },
      { name: "Isabella Rossi", department: "Product", location: "Milan", nationality: "Italian", age: 27, joined: "2021/01/07", salary: "$65,000" }
    ];

    function initTable(tableId, deleteBtnId, selectAllId, toggleId, searchId) {
      let selected = new Set();

      const table = $("#" + tableId).DataTable({
        data: sampleData,
        columns: [
          {
            data: null,
            orderable: false,
            className: "select-checkbox",
            render: (data, type, row, meta) =>
              `<input type='checkbox' class='row-check' data-id='${meta.row}'>`,
          },
          { data: "name" },
          { data: "department" },
          { data: "location" },
          { data: "nationality" },
          { data: "age" },
          { data: "joined" },
          { data: "salary" },
        ],
        pageLength: 5,
      });

      $("#" + tableId + " tbody").on("click", ".row-check", function () {
        const id = $(this).data("id");
        if (this.checked) selected.add(id);
        else selected.delete(id);
        updateCount();
      });

      $("#" + selectAllId).on("change", function () {
        const isChecked = this.checked;
        $("#" + tableId + " .row-check").prop("checked", isChecked);
        selected = new Set(
          isChecked ? table.rows().indexes().toArray() : []
        );
        updateCount();
      });

      $("#" + deleteBtnId).on("click", function () {
        if (!selected.size) return alert("Select at least one row.");
        if (confirm("Delete selected rows?")) {
          [...selected]
            .sort((a, b) => b - a)
            .forEach((i) => table.row(i).remove());
          table.draw();
          selected.clear();
          updateCount();
        }
      });

      function updateCount() {
        $("#" + deleteBtnId)
          .next("#selectedCount" + tableId.slice(-1))
          .text(selected.size ? `(${selected.size} selected)` : "");
      }

      // Column visibility
      const columns = ["Name", "Department", "Location", "Nationality", "Age", "Joined", "Salary"];
      columns.forEach((name, i) => {
        const btn = $("<button>")
          .addClass("btn-toggle")
          .text(name)
          .on("click", function () {
            const col = table.column(i + 1);
            col.visible(!col.visible());
            $(this).toggleClass("opacity-50");
          });
        $("#" + toggleId).append(btn);
      });

      // Column search dropdowns
      const uniqueValues = {};
      columns.forEach((col, i) => {
        uniqueValues[col] = [...new Set(sampleData.map((d) => d[Object.keys(sampleData[0])[i + 1]]))];
        const sel = $("<select>").addClass("form-select form-select-sm")
          .append(`<option value="">All ${col}</option>`);
        uniqueValues[col].forEach((v) => sel.append(`<option>${v}</option>`));
        sel.on("change", function () {
          table.column(i + 1).search(this.value ? "^" + this.value + "$" : "", true, false).draw();
        });
        $("#" + searchId).append(sel);
      });
    }

    $(document).ready(() => {
      initTable("dataTable1", "deleteBtn1", "selectAll1", "columnToggle1", "columnSearch1");
      initTable("dataTable2", "deleteBtn2", "selectAll2", "columnToggle2", "columnSearch2");
    });
  </script>
</body>
</html>
